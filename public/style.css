:root { --bg:#0f172a; --ink:#0b1324; --muted:#5b657a; --line:#e5e7eb; --brand:#0f172a; --accent:#111827;}
* { box-sizing: border-box; }
body { margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji"; color:#0f172a; background:#f8fafc;}
.container { max-width: 1100px; margin: 0 auto; padding: 24px;}
.card { background:#fff; border:1px solid var(--line); border-radius: 14px; box-shadow: 0 1px 6px rgba(0,0,0,.04);}
.card .p { padding: 20px; }
.btn { border:1px solid var(--line); padding: 8px 14px; border-radius:10px; background:#fff; cursor:pointer; }
.btn.primary { background: var(--brand); color:#fff; border-color: #0b1220; }
.btn:disabled { opacity: .6; cursor: not-allowed;}
.row { display:flex; gap:12px; align-items:center;}
.input, select { width:100%; padding:10px 12px; border:1px solid var(--line); border-radius:10px; }
label { font-size: 13px; color: var(--muted); }
h1,h2,h3 { margin: 0 0 10px; }
small.muted{ color:#6b7280; }
.badge { font-size: 11px; padding:2px 6px; border:1px solid var(--line); border-radius: 6px; color:#374151;}
.pill { font-size:12px; padding: 4px 8px; border-radius: 20px; }
.pill.pending { background:#f3f4f6; color:#374151;}
.pill.approved { background:#d1fae5; color:#065f46;}
.pill.escalated { background:#fef3c7; color:#92400e;}
.table { width:100%; border-collapse: collapse;}
.table th, .table td { padding:10px; border-top:1px solid var(--line); text-align:left; font-size: 14px;}
.nav { border-bottom:1px solid var(--line); background:#fff; position: sticky; top:0; z-index:5;}
.nav .inner { display:flex; gap:16px; align-items:center; height:56px; }
.brand { font-weight:600; font-size: 18px;}
.searchbox { position: relative; flex: 1; max-width: 560px; }
.searchbox input { width:100%; padding:10px 12px; border:1px solid var(--line); border-radius:10px; }
.suggest { position:absolute; left:0; right:0; background:#fff; border:1px solid var(--line); border-radius:10px; margin-top:6px; overflow:hidden; }
.suggest li { display:flex; align-items:center; justify-content:space-between; padding:8px 10px; cursor:pointer; }
.suggest li.active { background:#f8fafc; }
.grid { display:grid; gap:16px; }
.grid.kpi { grid-template-columns: repeat(4, minmax(0,1fr)); }
.flex-between { display:flex; align-items:center; justify-content:space-between; }
.sidebar { width: 220px; }
.layout { display:grid; grid-template-columns: 220px 1fr; gap: 16px; }
.toolbar { display:flex; gap:8px; align-items:center; }
.link { color:#111827; text-decoration: underline; cursor:pointer;}
.kv { font-size:14px;}
.kv dt { color:#6b7280; }
.kv dd { margin: 0 0 10px 0;}
.drawer { position: fixed; right: 0; top: 0; bottom: 0; width: 420px; background: #fff; border-left:1px solid var(--line); box-shadow: -4px 0 20px rgba(0,0,0,.05); padding: 0; display: none;}
.drawer.open{ display:block;}
.drawer .head { height:56px; display:flex; align-items:center; justify-content:space-between; padding: 0 16px; border-bottom:1px solid var(--line);}
.tabs { display:flex; gap:10px; padding: 0 16px; border-bottom:1px solid var(--line);}
.tab { padding:10px 6px; border-bottom:2px solid transparent; cursor:pointer;}
.tab.active { border-color:#111827; font-weight:600;}
.section { padding: 16px; }

/* Dropdown menu for "You â–¾" */
.menu-wrap { position: relative; }
.menu {
  position: absolute; right: 0; top: calc(100% + 6px);
  width: 220px; background:#fff; border:1px solid var(--line);
  border-radius: 12px; box-shadow: 0 8px 20px rgba(0,0,0,.06);
  padding: 6px; display: none; z-index: 10;
}
.menu.open { display: block; }
.menu-item {
  width: 100%; text-align: left; background: transparent; border: none;
  padding: 8px 10px; border-radius: 8px; cursor: pointer; font-size: 14px;
}
.menu-item:hover { background: #f8fafc; }
.menu-divider { height: 1px; background: var(--line); margin: 6px 0; }

.tabs { display:flex; gap:10px; border-bottom:1px solid var(--line); }
.tab { padding:10px 6px; border-bottom:2px solid transparent; cursor:pointer; }
.tab.active { border-color:#111827; font-weight:600; }
ul li { margin: 6px 0; }
.kv { line-height: 1.5; }
.table td small { color:#6b7280; }

.icon-wrap { position: relative; display: inline-block; }
.icon-btn { position: relative; }
.badge-dot {
  position: absolute;
  top: -6px;
  right: -6px;
  display: inline-block;
  min-width: 16px;
  height: 16px;
  padding: 0 4px;
  border-radius: 999px;
  background: #dc2626; /* red */
  color: #fff;
  font-size: 11px;
  line-height: 16px;
  text-align: center;
  border: 1px solid #ffffff;
  box-shadow: 0 1px 3px rgba(0,0,0,.15);
}

/* Toasts */
#toast-host {
  position: fixed;
  right: 16px;
  top: 16px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  z-index: 9999;
}
.toast {
  background: #111827;
  color: #fff;
  padding: 10px 12px;
  border-radius: 10px;
  box-shadow: 0 6px 16px rgba(0,0,0,.18);
  opacity: 0;
  transform: translateY(-6px);
  transition: opacity .18s ease, transform .18s ease;
  font-size: 13px;
}
.toast.show { opacity: 1; transform: translateY(0); }

/* Row highlight "blink" */
@keyframes rowBlink {
  0% { background: #fff5; }
  50% { background: #fef3c7; } /* amber-100 */
  100% { background: transparent; }
}
.row-blink { animation: rowBlink 1.1s ease-out 1; }

/* Breaches styling */
.pill.open { background:#fef3c7; color:#92400e; }
.pill.resolved { background:#d1fae5; color:#065f46; }
.badge.critical { background:#fee2e2; color:#991b1b; border:1px solid #fecaca; }
.badge.medium { background:#fef3c7; color:#92400e; border:1px solid #fde68a; }
.badge.low { background:#ecfeff; color:#155e75; border:1px solid #a5f3fc; }

/* === Dashboard enhancements === */
.metrics-row { display:grid; gap:12px; margin-bottom:12px; }
.metrics-row.grid-4 { grid-template-columns: repeat(4, minmax(0,1fr)); }
.metric-tile .metric-val { font-size: 22px; font-weight: 700; margin: 4px 0 2px; }
.metric-tile.hover { cursor:pointer; transition: transform .06s ease; }
.metric-tile.hover:hover { transform: translateY(-1px); }

/* --- Compact, breathable UI for pipeline, performance, risk --- */
.section-title { font-size: 15px; font-weight: 600; margin: 2px 0 8px; }
.subtle { color:#6b7280; }
.sep { height:1px; background:var(--line); margin:10px 0; }

.card .p { padding: 14px 16px; }          /* a touch more breathing room */
.table th, .table td { padding: 8px 10px; line-height: 1.35; }

/* Pipeline */
.pipeline-box { display:flex; flex-direction: column; gap: 10px; }
.pipeline-step { display:grid; grid-template-columns: 22px 1fr auto; align-items: center; gap: 10px; padding: 6px 0; }
.pipeline-dot { width:10px; height:10px; border-radius:50%; background:#9ca3af; }
.pipeline-step.active .pipeline-dot { background:#2563eb; }
.pipeline-meta { display:flex; gap:10px; flex-wrap:wrap; }
.pipeline-note { color:#4b5563; }

/* Performance compact */
.perf-compact table { width:100%; }
.perf-compact .spark-cell svg { height:28px; }
.perf-compact .muted { color:#6b7280; }
.perf-actions { display:flex; justify-content:flex-end; gap:8px; }

/* Risk overview compact */
.risk-compact { display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap: 12px; }
.risk-stat { border:1px solid var(--line); border-radius:12px; padding:12px; background:#fff; }
.risk-label { font-size:12px; color:#6b7280; }
.risk-value { font-size:18px; font-weight:700; margin-top:2px; }
.risk-mini { font-size:12px; color:#6b7280; }
.risk-collapsible { margin-top:8px; border-top:1px dashed var(--line); padding-top:8px; }
.risk-bar { height:6px; border-radius:4px; background:#e5e7eb; position:relative; overflow:hidden; }
.risk-bar > span { position:absolute; inset:0 100% 0 0; background:#8b5cf6; }
@media (max-width: 900px){
  .risk-compact { grid-template-columns: 1fr; }
}

/* Admin switches */
.switch { position: relative; display: inline-block; width: 38px; height: 22px; }
.switch input { opacity: 0; width: 0; height: 0; }
.slider { position: absolute; cursor: pointer; inset: 0; background: #e5e7eb; transition: .2s; border-radius: 999px; }
.slider:before { position: absolute; content: ""; height: 16px; width: 16px; left: 3px; top: 3px; background: white; transition: .2s; border-radius: 999px; box-shadow: 0 1px 2px rgba(0,0,0,.1); }
.switch input:checked + .slider { background: #10b981; }
.switch input:checked + .slider:before { transform: translateX(16px); }

/* Sidebar navlink (if needed) */
.navlink { padding: 8px 10px; border-radius: 8px; cursor: pointer; }
.navlink:hover { background: #f3f4f6; }

/* Notifications bell */
.notif-wrap { position: relative; }
.icon-btn { border:0; background:transparent; cursor:pointer; position:relative; padding: 8px; }
.badge { position:absolute; top:-4px; right:-6px; background:#ef4444; color:#fff; border-radius:999px; padding:0 6px; font-size:11px; line-height:16px; min-width: 18px; text-align:center; }
.notif-panel { position:absolute; right:0; top:36px; width: 360px; max-height: 420px; overflow:auto; border:1px solid var(--line); border-radius:12px; background:#fff; box-shadow: 0 6px 20px rgba(0,0,0,.08); z-index: 1000; }
.notif-list { display:flex; flex-direction:column; gap:10px; margin-top:8px; }
.notif-row { padding:8px; border:1px solid var(--line); border-radius:10px; cursor:pointer; }
.notif-row:hover { background:#f9fafb; }
.notif-row.unread { border-color:#c7d2fe; box-shadow: inset 0 0 0 1px #c7d2fe; }
.notif-title { display:flex; gap:8px; align-items:baseline; }
.btn-ghost { background: transparent; border: 1px solid var(--line); padding: 4px 8px; border-radius: 6px; cursor: pointer; font-size: 12px; }
.btn-ghost:hover { background: #f8fafc; }

/* Profile page tweaks */
.section-title { font-size: 15px; font-weight: 600; margin: 2px 0 8px; }
.inline { display: inline-flex; gap: 8px; align-items: center; }
.btn-ghost { background: transparent; border: 1px solid var(--line); padding: 6px 12px; border-radius: 8px; cursor: pointer; font-size: 13px; }
.btn-ghost:hover { background: #f8fafc; }

.inline { display: inline-flex; gap: 8px; align-items: center; }
.sep { height:1px; background: var(--line); } }

.dashboard-grid { display:grid; grid-template-columns: 1.1fr 1fr 1.2fr; gap: 16px; }
.activity-feed { display:flex; flex-direction: column; gap: 10px; }
.activity-row { display:grid; grid-template-columns: 120px 1fr; gap: 12px; padding: 8px 0; border-bottom:1px dashed var(--line); }
.activity-row:last-child { border-bottom: none; }
.activity-meta { display:flex; gap:8px; align-items:center; }
.pill.approval { background:#eef2ff; color:#4338ca; }
.pill.report { background:#ecfeff; color:#155e75; }
.pill.rfp { background:#fef9c3; color:#92400e; }
.pill.breach { background:#fee2e2; color:#991b1b; }
.mkt-item .mkt-val { font-size: 18px; font-weight: 600; }
.mkt-val.pos { color: #065f46; }
.mkt-val.neg { color: #b91c1c; }
.market-grid { display:grid; grid-template-columns: repeat(3,1fr); gap: 12px; margin: 12px 0; }

@media (max-width: 1100px){
  .dashboard-grid { grid-template-columns: 1fr; }
  .metrics-row.grid-4 { grid-template-columns: repeat(2, minmax(0,1fr)); }
}

/* === Dashboard (new cards) === */
.alerts-list { display: flex; flex-direction: column; gap: 10px; }
.alert-row { border-top: 1px dashed var(--line); padding: 8px 0; display: grid; grid-template-columns: 1fr auto; gap: 10px; }
.alert-row:first-child { border-top: 0; }
.alert-main { display: flex; align-items: center; gap: 8px; }
.badge.critical { background: #fee2e2; color: #991b1b; border: 1px solid #fecaca; }
.badge.medium   { background: #fef3c7; color: #92400e; border: 1px solid #fde68a; }
.badge.low      { background: #ecfeff; color: #155e75; border: 1px solid #a5f3fc; }

.spark-cell svg { display: block; }
.spark-cell { color: #4b5563; } /* stroke color via currentColor */
.brand { user-select: none; }    /* pairs with cursor pointer in JS */